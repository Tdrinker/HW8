.section init
    .zero r0
    .temp r6,r7

fact:
    push r1 on stack r2
    push r3 on stack r2

    r3 := m[r0][r2+2]

    if (r3 == 0) goto base_case

    r5 := r3 - 1
    push r5 on stack r2
    goto fact linking r1
    pop stack r2
    r1 := r3 * r1
    goto finish_fact

base_case:
    r1 := 1

finish_fact:
    pop r3 off stack r2
    pop r5 off stack r2
    goto r5